<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- http://linux-ntfs.sourceforge.net/ldm/vmdb.html -->

<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="description" content="LDM Logical Disk Manager Documentation">
    <link rel="stylesheet" type="text/css" href="ldm.css">
    <link rel="start" type="text/html" href="index.html" title="LDM Documentation">
    <title>VMDB - LDM Documentation</title>
  </head>

  <body>
    <table border="1" class="toolbar" summary="" cellspacing="0">
      <tr>
        <td class="toolbar"><a accesskey="1" class="toolbar" href="index.html">Home</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="2" class="toolbar" href="partition.html">Part</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="3" class="toolbar" href="privhead.html">Priv</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="4" class="toolbar" href="tocblock.html">TOC</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="5" class="toolbar" href="vmdb.html">VMDB</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="6" class="toolbar" href="vblk.html">VBLK</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="7" class="toolbar" href="klog.html">KLOG</a></td>
      </tr>
    </table>

    <h1>VMDB - LDM Documentation</h1>

    <h2>Overview</h2>

    <p>
    The VMDB is 512 bytes long.
    </p>

    <h2>Layout</h2>

    <table border="1" summary="" cellspacing="0">
      <tr>
        <th class="numeric">Offset</th>
        <th class="numeric">Size</th>
        <th>Description</th>
      </tr>
      <tr>
        <td class="numeric">0x00</td>
        <td class="numeric">4</td>
        <td>"VMDB" Magic number</td>
      </tr>
      <tr>
        <td class="numeric">0x04</td>
        <td class="numeric">4</td>
        <td>Sequence Number of last VBLK</td>
      </tr>
      <tr>
        <td class="numeric">0x08</td>
        <td class="numeric">4</td>
        <td>Size of VBLK</td>
      </tr>
      <tr>
        <td class="numeric">0x0C</td>
        <td class="numeric">4</td>
        <td>Offset to first VBLK</td>
      </tr>
      <tr>
        <td class="numeric">0x10</td>
        <td class="numeric">2</td>
        <td>Don't know (0x01)</td>
      </tr>
      <tr>
        <td class="numeric">0x12</td>
        <td class="numeric">2</td>
        <td>Version Major</td>
      </tr>
      <tr>
        <td class="numeric">0x14</td>
        <td class="numeric">2</td>
        <td>Version Minor</td>
      </tr>
      <tr>
        <td class="numeric">0x16</td>
        <td class="numeric">31</td>
        <td>Disk Group Name (string, null padded)</td>
      </tr>
      <tr>
        <td class="numeric">0x35</td>
        <td class="numeric">64</td>
        <td>Disk Group Id GUID (string, null padded)</td>
      </tr>
      <tr>
        <td class="numeric">0x75</td>
        <td class="numeric">8</td>
        <td>Committed Sequence</td>
      </tr>
      <tr>
        <td class="numeric">0x7D</td>
        <td class="numeric">8</td>
        <td>Pending Sequence</td>
      </tr>
      <tr>
        <td class="numeric">0x85</td>
        <td class="numeric">56</td>
        <td>14 4-Byte Unknowns &lt; 0x10</td>
      </tr>
      <tr>
        <td class="numeric">0xBD</td>
        <td class="numeric">4</td>
        <td>Timestamp</td>
      </tr>
    </table>

    <br>

    <table border="1" summary="" cellspacing="0">
      <tr>
        <th>VBLK Element</th>
        <th>Name</th>
        <th>Contents</th>
      </tr>
      <tr>
        <td>Disk Group</td>
        <td>AddlestonesDg0</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>Disk</td>
        <td>Disk1</td>
        <td>Physical Disk 1 (hda)</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk1-01</td>
        <td>Mirror 1/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk1-02</td>
        <td>Stripe 1/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk1-03</td>
        <td>Raid 1/3</td>
      </tr>
      <tr>
        <td>Disk</td>
        <td>Disk2</td>
        <td>Physical Disk 2 (hdb)</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk2-01</td>
        <td>Spanned 1/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk2-02</td>
        <td>Raid 2/3</td>
      </tr>
      <tr>
        <td>Disk</td>
        <td>Disk3</td>
        <td>Physical Disk 2 (hdc)</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk3-01</td>
        <td>Raid 3/3</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk3-02</td>
        <td>Mirror 2/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk3-03</td>
        <td>Spanned 2/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;Disk3-04</td>
        <td>Stripe 2/2</td>
      </tr>
      <tr>
        <td>Volume</td>
        <td>Volume1</td>
        <td>Mirror</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Component</td>
        <td>&nbsp;&nbsp;Volume1-01</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk1-01</td>
        <td>Mirror 1/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Component</td>
        <td>&nbsp;&nbsp;Volume1-02</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk3-02</td>
        <td>Mirror 2/2</td>
      </tr>
      <tr>
        <td>Volume</td>
        <td>Volume2</td>
        <td>Stripe</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Component</td>
        <td>&nbsp;&nbsp;Volume2-01</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk1-02</td>
        <td>Stripe 1/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk3-04</td>
        <td>Stripe 2/2</td>
      </tr>
      <tr>
        <td>Volume</td>
        <td>Volume3</td>
        <td>Spanned</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Component</td>
        <td>&nbsp;&nbsp;Volume3-01</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk2-01</td>
        <td>Stripe 1/2</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk3-03</td>
        <td>Stripe 2/2</td>
      </tr>
      <tr>
        <td>Volume</td>
        <td>Volume4</td>
        <td>Raid</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;Component</td>
        <td>&nbsp;&nbsp;Volume4-01</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk1-03</td>
        <td>Raid 1/3</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk2-02</td>
        <td>Raid 2/3</td>
      </tr>
      <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Partition</td>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;Disk3-01</td>
        <td>Raid 3/3</td>
      </tr>
    </table>

    <pre>
    A partition has two parents, its Disk and its Component.
    A component belongs to a volume.
    </pre>

    <br>
    <!-- The two validators will only work if this page is visible on the web -->
    <a class="contact" href="http://validator.w3.org/check/referer">Validate HTML</a>
    <a class="contact" href="http://jigsaw.w3.org/css-validator/check/referer">Validate CSS</a>
    <a class="contact" href="mailto:webmaster@flatcap.org">
    $Id: vmdb.html,v 1.1 2001/05/30 20:25:10 flatcap Exp $
    </a>
  </body>
</html>



